---
description: >-
  Backtracking es una estrategia algorítmica que busca todas las posibles
  soluciones dado un conjunto de variables inicial para encontrar el resultado
  definido por el problema
---

# 2.4 Backtracking

### 2.4.1 ¿Qué es Backtracking?

> Backtracking is a general algorithm for finding all \(or some\) solutions to some computational problems, notably constraint satisfaction problems, that incrementally builds candidates to the solutions, and abandons a candidate \("backtracks"\) as soon as it determines that the candidate cannot possibly be completed to a valid solution.

**Backtracking** \(o **vuelta atrás**\) es una **técnica algorítmica para encontrar soluciones a problemas que tienen una solución completa**, en los que el orden de los elementos no importa, y en los que existen una serie de variables a cada una de las cuales debemos asignarle un valor teniendo en cuenta unas restricciones dadas.

O lo que es lo mismo, es una **estrategia algorítmica que busca todas las posibles soluciones dado un conjunto de variables inicial** para encontrar el resultado definido por el problema.

La técnica de **Backtracking** se apoya en el uso de la [recursividad](2.3-recursividad.md) para la búsqueda exhaustiva de todas las combinaciones posibles.

El termino fue utilizado por primera vez por el matemático [D.H. Lehmer](https://es.wikipedia.org/wiki/Derrick_Henry_Lehmer) en la década de 1950.

### 2.4.2 Explicando la técnica Backtracking con un caso práctico

Dado un conjunto de número enteros {14, 10, 6} encontrar si existe algún subconjunto cuya suma sea 20.



### 2.4.3 Entendiendo la técnica Backtracking

**Backtracking** es una técnica algorítmica para hacer una búsqueda exhaustiva y sistemática por todas las configuraciones posibles del espacio de búsqueda del problema.

Se suele aplicar en la resolución de un gran número de problemas, muy especialmente en los de **decisión** y **optimización**.

* **Problemas de decisión**: Búsqueda de las soluciones que satisfacen ciertas restricciones. Ejemplo: Problema de las N-Reinas.
* **Problemas de optimización**: Búsqueda de la mejor solución en base a una función objetivo. Ejemplo: Problema de la mochila.

{% hint style="danger" %}
Los algoritmos de tipo Backtracking suelen ser muy ineficientes. Aunque se utilizan para resolver problemas para los que no existe un algoritmo eficiente.

Para mejorar la técnica de Backtracking se recomienda el uso de la programación paralela.
{% endhint %}

De forma general, el método del Backtracking, concebido como tal, genera todas las secuencias de forma sistemática y organizada, de manera que prueba todas las posibles combinaciones de un problema hasta que encuentra la correcta. En general, la forma de actuar consiste en elegir una alternativa del conjunto de opciones en cada etapa del proceso de resolución, y si esta elección no funciona \(no nos lleva a ninguna solución\), la búsqueda vuelve al punto donde se realizó esa elección, e intenta con otro valor. Cuando se han agotado todos los posibles valores en ese punto, la búsqueda vuelve a la anterior fase en la que se hizo otra elección entre valores. Si no hay más puntos de elección, la búsqueda finaliza.

La técnica de Backtracking es usada en muchos ámbitos de la programación, por ejemplo, para el cálculo de expresiones regulares o para tareas de reconocimiento de texto y de sintaxis de lenguajes regulares. También es usado incluso en la implementación de algunos lenguajes de programación y da soporte a muchos algoritmos en inteligencia artificial.

De forma matemática:

* El conjunto de soluciones se expresa en tuplas, donde cada una es el valor de la solución.

$$
s = (v_1, v_2, ... v_n)
$$

* El conjunto parcial de soluciones será aquel en que se encuentre en cierto nivel K:

$$
s_p = (v_1, v_2, ... v_k) → K <= n
$$

* Si se puede añadir un elemento más, la solución avanza a otro nivel \(K+1\).
* Si no existe ningún valor, se retrocede al valor \(K-1\).
* Se continua hasta que una solución parcial sea una solución al problema o hasta que no queden mas posibilidades a probar.

El resultado es equivalente a hacer un recorrido en profundidad en el árbol de soluciones. Sin embargo, este árbol es implícito, no se almacena en ningún lugar.

Los hijos de un nodo del nivel K son las prolongaciones posibles al añadir una nueva etapa.

Para examinar el conjunto de posibles soluciones es suficiente con recorrer el árbol construyendo soluciones parciales a medida que se avanza en el recorrido.

Los números de cada nodo marcan el recorrido del árbol.

Los **nodos hoja** representan que puede no haber una solución por ese camino y hay que volver atrás, o bien que es una solución completa.

### 2.4.4 Caso práctico: El problema de las N-Reinas

\[...\]

### 2.4.5 Otros casos prácticos

\[...\]

### 2.4.6 Extra

{% embed url="https://www.youtube.com/watch?v=XQYGwKiqV3Y" %}

{% embed url="https://www.youtube.com/watch?v=vdVpRjO7g84" %}

{% embed url="https://www.youtube.com/watch?v=ifXvZ8qfIiU" %}

### 2.4.7 Bibliografía

Referencias en español:

1. Curso Técnico Superior Universitario: Programación avanzada. [Ilerna Online](https://www.ilerna.es/es/fp-universidad/programacion-avanzada-tecnico-superior-universitario-484).
2. Grado en Ingeniería Informática. Temario: Backtraking y Hashing. [UCAM Murcia](https://online.ucam.edu/estudios/grados/informatica-a-distancia).
3. [https://es.wikipedia.org/wiki/Vuelta\_atr%C3%A1s](https://es.wikipedia.org/wiki/Vuelta_atr%C3%A1s)
4. [El esquema algorítmico del Backtracking](https://openlibra.com/es/book/el-esquema-algoritmico-del-backtraking)

Referencias en inglés:

1. [https://en.wikipedia.org/wiki/Backtracking](https://en.wikipedia.org/wiki/Backtracking)

